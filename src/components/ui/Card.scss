@import '../../styles/variables';
@import '../../styles/mixins';

.card {
  display: flex;
  flex-direction: column;
  background-color: var(--color-background-card);
  border: none;
  border-radius: $border-radius-xl;
  box-shadow: $shadow-md;
  border: 1px solid var(--color-border);
  transition: all $transition-fast;
  position: relative;
  overflow: hidden;



  &__header {
    @include flex-between;
    padding-bottom: $spacing-lg;
    border-bottom: 1px solid var(--color-border);
    margin-bottom: $spacing-lg;
    position: relative;
    z-index: 1;

    &-content {
      flex: 1;
    }
  }

  &__title {
    @include text-heading(lg);
    margin: 0;
    margin-bottom: $spacing-xs;
  }

  &__subtitle {
    @include text-muted(sm);
    margin: 0;
  }

  &__actions {
    @include flex-center;
    gap: $spacing-sm;
    flex-shrink: 0;
  }

  &__content {
    flex: 1;
    position: relative;
    z-index: 1;
  }

  // Padding variants
  &--padding-sm {
    @include card-padding(sm);
  }

  &--padding-md {
    @include card-padding(md);
  }

  &--padding-lg {
    @include card-padding(lg);
  }

  &--padding-none {
    padding: 0;
  }

  // Shadow variants
  &--shadow-none {
    box-shadow: none;
  }

  &--shadow-sm {
    box-shadow: $shadow-sm;
  }

  &--shadow-md {
    box-shadow: $shadow-md;
  }

  &--shadow-lg {
    box-shadow: $shadow-lg;
  }

  &--shadow-xl {
    box-shadow: $shadow-xl;
  }

  // Hover effect
  &--hover {
    cursor: pointer;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: $shadow-lg;
      border-color: var(--color-primary);
    }

    &:active {
      transform: translateY(-1px);
      box-shadow: $shadow-md;
    }
  }

  // No header variant
  &:not(:has(.card__header)) {
    .card__content {
      padding-top: 0;
    }
  }
}

// Card variants
.card--outlined {
  border: 2px solid var(--color-border);
  box-shadow: none;

  &:hover {
    border-color: var(--color-primary);
  }
}

.card--filled {
  background-color: var(--color-background-secondary);
  border: none;
}

.card--gradient {
  background-color: var(--color-primary);
  color: var(--color-text-inverse);
  border: none;

  .card__title,
  .card__subtitle {
    color: inherit;
  }

  .card__header {
    border-bottom-color: rgba(255, 255, 255, 0.2);
  }
}

// Card grid
.card-grid {
  display: grid;
  gap: $spacing-xl;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));

  @include mobile-first($breakpoint-md) {
    grid-template-columns: 1fr;
    gap: $spacing-lg;
  }
}

// Card list
.card-list {
  display: flex;
  flex-direction: column;
  gap: $spacing-lg;

  .card {
    @include flex-start;
    padding: $spacing-lg;

    &__content {
      flex: 1;
    }
  }
}

// Compact card
.card--compact {
  .card__header {
    padding-bottom: $spacing-md;
    margin-bottom: $spacing-md;
  }

  .card__title {
    @include text-heading(md);
    margin-bottom: $spacing-xs;
  }

  .card__subtitle {
    @include text-muted(xs);
  }
}

// Interactive card states
.card--interactive {
  cursor: pointer;
  transition: all $transition-fast;

  &:hover {
    transform: translateY(-2px);
    box-shadow: $shadow-lg;
  }

  &:active {
    transform: translateY(0);
    box-shadow: $shadow-md;
  }

  &:focus-visible {
    @include focus-ring;
  }
}

// Card with image
.card--with-image {
  overflow: hidden;

  .card__image {
    width: 100%;
    height: 200px;
    object-fit: cover;
    margin: -#{$spacing-xl} -#{$spacing-xl} $spacing-lg -#{$spacing-xl};

    &--rounded {
      border-radius: $border-radius-lg $border-radius-lg 0 0;
    }
  }
}

// Status cards
.card--success {
  border-left: 4px solid var(--color-success);
}

.card--warning {
  border-left: 4px solid var(--color-warning);
}

.card--error {
  border-left: 4px solid var(--color-error);
}

.card--info {
  border-left: 4px solid var(--color-info);
}
